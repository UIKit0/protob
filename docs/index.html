<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Index</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Index</h1>
    
    


    


    <h3> </h3>









    




    <section>
        <article><h1 id="protob">Protob</h1>
<p>Protocol buffers for Node.js.</p>
<h2 id="protofile">Protofile</h2>
<p>The command line file <code>protob</code> will compile your protocol buffers and output them</p>
<h3 id="usage">Usage</h3>
<p>Define a protos.json file:</p>
<pre><code>[
  {
    &quot;local&quot;: &quot;path/to/protos/directory&quot;,
    &quot;paths&quot;: {
      &quot;relative/path&quot; : [&quot;specific/path&quot;]
    }
  },
  {
    &quot;git&quot;: &quot;git@git.squareup.com:some/protos_repo.git&quot;,
    &quot;paths&quot;: {
      &quot;relative/path&quot;: [&quot;specific&quot;, &quot;paths&quot;]
    }
  }
]

$&gt; protob --help
$&gt; protob</code></pre>
<p>This will compile your protocol buffer definitions to json for the protob library to consume.</p>
<p>You can also use this directly.</p>
<pre><code>$&gt; protoc --json_out=./some/path -I some/path some/proto/files --plugin=protoc-gen-json</code></pre>
<h2 id="protocompiler">Protocompiler</h2>
<p>This will compile your protocol buffers into Javascript objects.</p>
<p>You can access your protocol buffers either by the registry or object cache.</p>
<pre><code>var Protob = require('protob').Protob;
var Compiler = require('protob').Compiler;
Compiler.compile();
var registry = Protob.registry;
var protos = Protob.v;

myMessage = new r['some.package.MyMessage']({with: &quot;values&quot;});
myMessage = protos.some.package.MyMessage({with: &quot;values&quot;});</code></pre>
<h2 id="encoding-decoding">Encoding / Decoding</h2>
<pre><code>myMessage.encode(); // encodes to a buffer ready to be sent
MyMessage.decode(myMessage.encode()); // decodes from a buffer to a message

myMessage.protoValues(); // provides a cooerced version of the message. 64 bit integers use the Long library
myMessage.protoValues({enums: 'name'}) // convert all enums into name values
myMessage.protoValues({enums: 'number'}) // convert all enums into number values
myMessage.protoValues({enums: 'full'}) // convert all enums into number values</code></pre>
<h2 id="reflection">Reflection</h2>
<p>Messages are stored with their descriptor available on their constructor.</p>
<p>MyMessage.descriptor // access the definition of the protocol buffer</p>
<h2 id="enums">ENUMS</h2>
<p>You can set an enum value as either the number of name.</p>
<pre><code>myMessage.enum_value = &quot;FOO&quot;
myMessage.encode() // will do the right thing</code></pre>
<h2 id="developing">Developing</h2>
<p>Check out this repo and do:</p>
<pre><code>npm install</code></pre>
<p>To run tests with grunt, install grunt globally:</p>
<pre><code>npm install grunt-cli -g</code></pre>
<p>And then:</p>
<pre><code>grunt simplemocha</code></pre>
<p>Or if you prefer not to install grunt globally:</p>
<pre><code>./node_modules/.bin/mocha --reporter spec --ui bdd --slow 200 --timeout 1000 -w lib/** -w test/** test/**</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-coorcers.html">coorcers</a></li><li><a href="module-dencoders.html">dencoders</a></li><li><a href="module-encoders.html">encoders</a></li><li><a href="module-protob.html">protob</a></li><li><a href="compiler.html">protob/compiler</a></li><li><a href="protofile.html">protob/compiler/protofile</a></li><li><a href="enum.html">protob/enum</a></li><li><a href="message.html">protob/message</a></li><li><a href="service.html">protob/service</a></li><li><a href="_.html">protob/util
A simple set of utilities</a></li></ul><h3>Classes</h3><ul><li><a href="protofile-Source.html">Source</a></li><li><a href="compiler-Compiler.html">Compiler</a></li><li><a href="enum-Enum.html">Enum</a></li><li><a href="enum-EnumValue.html">EnumValue</a></li><li><a href="message-Message.html">Message</a></li><li><a href="service-Service.html">Service</a></li></ul><h3>Namespaces</h3><ul><li><a href="Protob.html">Protob</a></li></ul><h3>Global</h3><ul><li><a href="global.html#TYPE_BOOL">TYPE_BOOL</a></li><li><a href="global.html#TYPE_BYTES">TYPE_BYTES</a></li><li><a href="global.html#TYPE_DOUBLE">TYPE_DOUBLE</a></li><li><a href="global.html#TYPE_ENUM">TYPE_ENUM</a></li><li><a href="global.html#TYPE_FIXED32">TYPE_FIXED32</a></li><li><a href="global.html#TYPE_FIXED64">TYPE_FIXED64</a></li><li><a href="global.html#TYPE_FLOAT">TYPE_FLOAT</a></li><li><a href="global.html#TYPE_INT32">TYPE_INT32</a></li><li><a href="global.html#TYPE_INT64">TYPE_INT64</a></li><li><a href="global.html#TYPE_MESSAGE">TYPE_MESSAGE</a></li><li><a href="global.html#TYPE_SFIXED32">TYPE_SFIXED32</a></li><li><a href="global.html#TYPE_SFIXED64">TYPE_SFIXED64</a></li><li><a href="global.html#TYPE_SINT32">TYPE_SINT32</a></li><li><a href="global.html#TYPE_SINT64">TYPE_SINT64</a></li><li><a href="global.html#TYPE_STRING">TYPE_STRING</a></li><li><a href="global.html#TYPE_UINT32">TYPE_UINT32</a></li><li><a href="global.html#TYPE_UINT64">TYPE_UINT64</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha3</a> on Tue Jan 21 2014 16:10:12 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>